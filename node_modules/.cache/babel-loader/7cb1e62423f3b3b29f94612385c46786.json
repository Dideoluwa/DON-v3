{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Desktop/Darasimi files/Online-Mini-Store-REST-API-x-Reactjs-/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState,useRef}from\"react\";import{useParams}from\"react-router-dom\";// import Lists from \"./List\"\nimport Lists from\"./List3\";import styles from'./product.module.css';import CartContext from\"./Store/cart-context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Product(){var _useState=useState('1'),_useState2=_slicedToArray(_useState,2),amount=_useState2[0],setAmount=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),added=_useState4[0],setAdded=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),inputIsValid=_useState6[0],setInputIsValid=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),imgIndex=_useState8[0],setImgIndex=_useState8[1];var amountInputRef=useRef();var ctx=useContext(CartContext);var _useParams=useParams(),productId=_useParams.productId;var products=Lists.find(function(prod){return prod.id==productId;});var addToCartHandler=function addToCartHandler(amount){ctx.addItem({key:products.id,id:products.id,title:products.title,images:products.images[0],amount:amount,price:products.price});};var amountFormHandler=function amountFormHandler(e){e.preventDefault();var enteredAmount=amountInputRef.current.value;var enteredAmountNum=+enteredAmount;if(enteredAmount.trim().length===0||enteredAmountNum<1||enteredAmountNum>9){setInputIsValid(true);setAdded(false);setTimeout(function(){setInputIsValid(false);},2000);return;}else{setInputIsValid(false);}addToCartHandler(enteredAmountNum);setAmount('1');};var amountChangeHandler=function amountChangeHandler(e){setAmount(e.target.value);};var addedToCartHandler=function addedToCartHandler(){setAdded(true);setTimeout(function(){setAdded(false);},2000);};return/*#__PURE__*/_jsx(\"div\",{className:styles.body1,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.body,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.images,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.imagesInner,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.wrapper,children:/*#__PURE__*/_jsx(\"img\",{src:products.images[imgIndex],alt:products.title})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.imageSmall,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.wrapper2,children:/*#__PURE__*/_jsx(\"img\",{src:products.images[0],alt:products.title,onClick:function onClick(){return setImgIndex(0);}})}),/*#__PURE__*/_jsx(\"div\",{className:styles.wrapper2,children:/*#__PURE__*/_jsx(\"img\",{src:products.images[1],alt:products.title,onClick:function onClick(){return setImgIndex(1);}})}),/*#__PURE__*/_jsx(\"div\",{className:styles.wrapper2,children:/*#__PURE__*/_jsx(\"img\",{src:products.images[2],alt:products.title,onClick:function onClick(){return setImgIndex(2);}})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.descrip,children:[/*#__PURE__*/_jsx(\"h1\",{children:products.title}),/*#__PURE__*/_jsxs(\"p\",{className:styles.price,children:[\"Price: \\u20A6\",products.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",products.description]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.list,children:[inputIsValid&&/*#__PURE__*/_jsx(\"p\",{children:\"Can't add more than 9 items at once.\"}),added&&/*#__PURE__*/_jsx(\"p\",{children:\"Item added to cart\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:amountFormHandler,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Quantity:\"}),/*#__PURE__*/_jsx(\"input\",{ref:amountInputRef,id:Lists.id,type:\"number\",min:\"1\",max:\"10\",step:\"1\",value:amount,onChange:amountChangeHandler}),/*#__PURE__*/_jsx(\"button\",{onClick:addedToCartHandler,className:styles.button,children:\"Add to cart\"})]})]})]})]})});}export default Product;","map":{"version":3,"names":["React","useContext","useState","useRef","useParams","Lists","styles","CartContext","Product","amount","setAmount","added","setAdded","inputIsValid","setInputIsValid","imgIndex","setImgIndex","amountInputRef","ctx","productId","products","find","prod","id","addToCartHandler","addItem","key","title","images","price","amountFormHandler","e","preventDefault","enteredAmount","current","value","enteredAmountNum","trim","length","setTimeout","amountChangeHandler","target","addedToCartHandler","body1","body","imagesInner","wrapper","imageSmall","wrapper2","descrip","description","list","button"],"sources":["/Users/mac/Desktop/Darasimi files/Online-Mini-Store-REST-API-x-Reactjs-/frontend/src/Components/Product.js"],"sourcesContent":["import React, { useContext, useState, useRef } from \"react\"\nimport { useParams } from \"react-router-dom\"\n// import Lists from \"./List\"\nimport Lists from \"./List3\"\nimport styles from './product.module.css'\nimport CartContext from \"./Store/cart-context\"\n\nfunction Product() {\n  let [amount, setAmount] = useState('1')\n  let [added, setAdded] = useState(false)\n  let [inputIsValid, setInputIsValid] = useState(false)\n  let [imgIndex, setImgIndex] = useState(0)\n  let amountInputRef = useRef()\n  let ctx = useContext(CartContext)\n  const { productId } = useParams()\n  const products = Lists.find(prod => prod.id == productId)\n\n  const addToCartHandler = (amount) => {\n    ctx.addItem({\n      key: products.id,\n      id: products.id,\n      title: products.title,\n      images: products.images[0],\n      amount: amount,\n      price: products.price,\n    });\n  }\n\n  let amountFormHandler = (e) => {\n    e.preventDefault()\n    let enteredAmount = amountInputRef.current.value\n    let enteredAmountNum = +enteredAmount\n\n    if (enteredAmount.trim().length === 0 ||\n      enteredAmountNum < 1 ||\n      enteredAmountNum > 9) {\n      setInputIsValid(true);\n      setAdded(false)\n      setTimeout(() => {\n        setInputIsValid(false)\n      }, 2000)\n      return;\n    } else {\n      setInputIsValid(false);\n    }\n\n    addToCartHandler(enteredAmountNum)\n    setAmount('1')\n  }\n\n  let amountChangeHandler = (e) => {\n    setAmount(e.target.value)\n  }\n  let addedToCartHandler = () => {\n    setAdded(true)\n    setTimeout(() => {\n      setAdded(false)\n    }, 2000)\n  }\n\n  return (\n    <div className={styles.body1}>\n      <div className={styles.body}>\n        <div className={styles.images}>\n          <div className={styles.imagesInner}>\n            <div className={styles.wrapper}>\n              <img src={products.images[imgIndex]} alt={products.title}></img>\n            </div>\n            <div className={styles.imageSmall}>\n              <div className={styles.wrapper2}>\n                <img src={products.images[0]} alt={products.title}  onClick={() => setImgIndex(0)}></img>\n              </div>\n              <div className={styles.wrapper2}>\n                <img src={products.images[1]} alt={products.title}  onClick={() => setImgIndex(1)}></img>\n              </div>\n              <div className={styles.wrapper2}>\n                <img src={products.images[2]} alt={products.title}  onClick={() => setImgIndex(2)}></img>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className={styles.descrip}>\n          <h1>{products.title}</h1>\n          <p className={styles.price}>Price: â‚¦{products.price}</p>\n          <p>Description: {products.description}</p>\n          <div className={styles.list}>\n            {inputIsValid && <p>Can't add more than 9 items at once.</p>}\n            {added && <p>Item added to cart</p>}\n            <form onSubmit={amountFormHandler}>\n              <label>Quantity:</label>\n              <input\n                ref={amountInputRef}\n                id={Lists.id}\n                type='number'\n                min='1'\n                max='10'\n                step='1'\n                value={amount}\n                onChange={amountChangeHandler}\n              />\n              <button\n                onClick={addedToCartHandler}\n                className={styles.button}>Add to cart</button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Product"],"mappings":"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"},"metadata":{},"sourceType":"module"}