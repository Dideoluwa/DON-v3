{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Desktop/Darasimi files/Online-Mini-Store-REST-API-x-Reactjs-/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState,useRef}from\"react\";import{useParams}from\"react-router-dom\";import Lists from\"./List\";import styles from'./product.module.css';import CartContext from\"./Store/cart-context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Product(){var _useState=useState('1'),_useState2=_slicedToArray(_useState,2),amount=_useState2[0],setAmount=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),inputIsValid=_useState4[0],setInputIsValid=_useState4[1];var amountInputRef=useRef();var ctx=useContext(CartContext);var _useParams=useParams(),productId=_useParams.productId;var products=Lists.find(function(prod){return prod.id==productId;});var addToCartHandler=function addToCartHandler(amount){ctx.addItem({key:products.id,id:products.id,title:products.title,amount:amount,price:products.price});};var amountFormHandler=function amountFormHandler(e){e.preventDefault();var enteredAmount=amountInputRef.current.value;var enteredAmountNum=+enteredAmount;if(enteredAmount.trim().length===0||enteredAmountNum<1||enteredAmountNum>9){setInputIsValid(true);return;}else{setInputIsValid(false);}addToCartHandler(enteredAmountNum);setAmount('1');};var amountChangeHandler=function amountChangeHandler(e){setAmount(e.target.value);};return/*#__PURE__*/_jsx(\"div\",{className:styles.body1,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.body,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.wrapper,children:/*#__PURE__*/_jsx(\"img\",{src:products.img,alt:products.title})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.descrip,children:[/*#__PURE__*/_jsx(\"h1\",{children:products.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \\u20A6\",products.price]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Description: \",products.description]}),/*#__PURE__*/_jsx(\"div\",{className:styles.list,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:amountFormHandler,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Amount:\"}),/*#__PURE__*/_jsx(\"input\",{ref:amountInputRef,id:Lists.id,type:\"number\",min:\"1\",max:\"10\",step:\"1\",value:amount,onChange:amountChangeHandler}),/*#__PURE__*/_jsx(\"button\",{className:styles.button,children:\"+ Add to cart\"}),inputIsValid&&/*#__PURE__*/_jsx(\"p\",{children:\"Can't add more than 9 items at once.\"})]})})]})]})});}export default Product;","map":{"version":3,"names":["React","useContext","useState","useRef","useParams","Lists","styles","CartContext","Product","amount","setAmount","inputIsValid","setInputIsValid","amountInputRef","ctx","productId","products","find","prod","id","addToCartHandler","addItem","key","title","price","amountFormHandler","e","preventDefault","enteredAmount","current","value","enteredAmountNum","trim","length","amountChangeHandler","target","body1","body","wrapper","img","descrip","description","list","button"],"sources":["/Users/mac/Desktop/Darasimi files/Online-Mini-Store-REST-API-x-Reactjs-/frontend/src/Components/Product.js"],"sourcesContent":["import React, { useContext, useState, useRef } from \"react\"\nimport { useParams } from \"react-router-dom\"\nimport Lists from \"./List\"\nimport styles from './product.module.css'\nimport CartContext from \"./Store/cart-context\"\n\nfunction Product() {\n  let [amount, setAmount] = useState('1')\n  let [inputIsValid, setInputIsValid] = useState(false)\n  let amountInputRef = useRef()\n  let ctx = useContext(CartContext)\n  const { productId } = useParams()\n  const products = Lists.find(prod => prod.id == productId)\n\n  const addToCartHandler = (amount) => {\n    ctx.addItem({\n      key: products.id,\n      id: products.id,\n      title: products.title,\n      amount: amount,\n      price: products.price,\n    });\n  }\n\n  let amountFormHandler = (e) => {\n    e.preventDefault()\n    let enteredAmount = amountInputRef.current.value\n    let enteredAmountNum = +enteredAmount\n\n    if (enteredAmount.trim().length === 0 ||\n      enteredAmountNum < 1 ||\n      enteredAmountNum > 9) {\n      setInputIsValid(true);\n      return;\n    } else{\n      setInputIsValid(false);\n    }\n\n    addToCartHandler(enteredAmountNum)\n\n    setAmount('1')\n  }\n\n  let amountChangeHandler = (e) => {\n    setAmount(e.target.value)\n  }\n\n  return (\n    <div className={styles.body1}>\n      <div className={styles.body}>\n        <div className={styles.wrapper}>\n          <img src={products.img} alt={products.title}></img>\n        </div>\n        <div className={styles.descrip}>\n          <h1>{products.title}</h1>\n          <p>Price: â‚¦{products.price}</p>\n          <h4>Description: {products.description}</h4>\n          <div className={styles.list}>\n            <form onSubmit={amountFormHandler}>\n              <label>Amount:</label>\n              <input\n                ref={amountInputRef}\n                id={Lists.id}\n                type='number'\n                min='1'\n                max='10'\n                step='1'\n                value={amount}\n                onChange={amountChangeHandler}\n              />\n              <button className={styles.button}>+ Add to cart</button>\n              {inputIsValid && <p>Can't add more than 9 items at once.</p>}\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Product"],"mappings":"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"},"metadata":{},"sourceType":"module"}